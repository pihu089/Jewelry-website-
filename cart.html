<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart - Luminous</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500&family=Montserrat&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>

<body>
   <!-- Header -->
   <header class="sticky-top bg-white shadow-sm">
    <nav class="navbar navbar-expand-lg navbar-light py-3">
        <div class="container">
            <a class="navbar-brand logo" href="index.html">LUMINOUS</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="product.html">Shop</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                </ul>
                <div class="ms-lg-4 mt-3 mt-lg-0 d-flex">
                    <a href="login.html" class="btn btn-link">
                        <img src="accounticon.png" alt="Cart" style="width: 50px; height: 50px;">
                    </a>
                    <a href="cart.html" class="btn btn-link position-relative ms-2">
                        <img src="carticon.png" alt="Cart" style="width: 55px; height: 55px;">
                        <span class="position-absolute top-40 start-100 translate-middle badge rounded-pill bg-#E6B8C1 cart-count" id="cart-count">0</span>
                
                    </a>
                </div>
            </div>
        </div>
    </nav>
</header>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    
        <!-- Cart Section -->
<section class="container my-5">
 
        
    <div id="empty-cart">
        <img src="emptycart.jpg" alt="Empty Cart Icon">
        <p>Your cart is empty. <a href="product.html"></a></p>
    </div>
    <div class="table-responsive">
        <table class="table cart-table" id="cart-table">
            
            <tbody id="cart-items"></tbody>
        </table>
    </div>

  <!-- Cart Table and Footer -->
  <div id="cart-section" class="d-none">
    <div class="table-responsive">
      <table class="table cart-table">
        <tbody id="cart-items">
          <!-- Items will be added here via JavaScript -->
        </tbody>
      </table>
    </div>

    <!-- Grand Total + Checkout -->
    <div id="cart-footer" class="text-end mt-3">
      <h4 id="grand-total">Total: $0.00</h4>
      <button class="btn btn-primary" onclick="checkout()">Proceed to Checkout</button>
    </div>
  </div>

</section>


    </section>


  <!-- Footer -->
  <footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                <p class="mb-0" style="font-size: 1.8rem;font-weight: 400; letter-spacing: 2px;font-family: 'Cormorant Garamond',serif; color: rgba(255,255,255,0.7);">Luminous</p>
                <p>Handcrafted jewelry for the modern spirit. Each piece tells a unique story.</p>
                <div class="mt-4">
                    <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-pinterest"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                <h4 class="footer-title">Shop</h4>
                <a href="#" class="footer-link">All Collections</a>
                <a href="#" class="footer-link">Necklaces</a>
                <a href="#" class="footer-link">Earrings</a>
                <a href="#" class="footer-link">Bracelets</a>
                <a href="#" class="footer-link">Rings</a>
            </div>
            <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                <h4 class="footer-title">Quick Links</h4>
                <a href="#" class="footer-link">About Us</a>
                <a href="#" class="footer-link">Customization</a>
                <a href="#" class="footer-link">Care Guide</a>
                <a href="#" class="footer-link">FAQs</a>
                <a href="#" class="footer-link">Privacy Policy</a>
            </div>
            <div class="col-lg-3 col-md-6">
                <h4 class="footer-title">Contact</h4>
                <div class="contact-info">
                    <i class="fas fa-map-marker-alt"></i> 123 Jewelry Lane, New York, NY 10001
                </div>
                <div class="contact-info">
                    <i class="fas fa-phone"></i> +1 (212) 555-7890
                </div>
                <div class="contact-info">
                    <i class="fas fa-envelope"></i> hello@luminousjewelry.com
                </div>
                <div class="contact-info">
                    <i class="fas fa-clock"></i> Mon-Fri: 9am-6pm, Sat: 10am-4pm
                </div>
            </div>
        </div>
        <hr class="mt-4 mb-3" style="border-color: rgba(255,255,255,0.1);">
        <div class="row align-items-center">
            <div class="col-md-6 text-center text-md-start">
                <p class="mb-0" style="font-size: 0.9rem; color: rgba(255,255,255,0.7);">Â© 2025 Luminous Jewelry-Riya Shivhare. All rights reserved.</p>
            </div>
            
        </div>
    </div>
</footer>




<script>
  // Load or initialize cart
  let cart = JSON.parse(localStorage.getItem("cart")) || [];

  // Update cart count on nav badge
  function updateCartCount() {
    const count = cart.reduce((sum, item) => sum + item.quantity, 0);
    const badge = document.getElementById("cart-count");
    if (badge) badge.textContent = count;
  }

  // Show toast
  function showToast(message) {
    const toast = document.createElement("div");
    toast.className = "toast-notification";
    toast.innerHTML = `<div class="toast-body">${message}</div>`;
    document.body.appendChild(toast);
    setTimeout(() => toast.remove(), 3000);
  }

  // Add to cart function
  function addToCart(product) {
    const existing = cart.find((item) => item.id === product.id);
    if (existing) {
      existing.quantity++;
    } else {
      cart.push({ ...product, quantity: 1 });
    }
    localStorage.setItem("cart", JSON.stringify(cart));
    updateCartCount();
    showToast(`${product.name} added to cart!`);
  }

  // Update and render cart page
  function updateCartPage() {
    const cartSection = document.getElementById("cart-section");
    const emptyCart = document.getElementById("empty-cart");
    const cartItemsContainer = document.getElementById("cart-items");
    const grandTotal = document.getElementById("grand-total");

    if (!cartItemsContainer || !grandTotal || !cartSection || !emptyCart) return;

    cartItemsContainer.innerHTML = "";

    if (cart.length === 0) {
      cartSection.classList.add("d-none");
      emptyCart.classList.remove("d-none");
    } else {
      cartSection.classList.remove("d-none");
      emptyCart.classList.add("d-none");

      let total = 0;

      cart.forEach((item, index) => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>
            <div class="d-flex align-items-center">
              <img src="${item.image}" alt="${item.name}" style="width: 80px; height: 80px; object-fit: cover;" class="me-3">
              <div>
                <h6>${item.name}</h6>
                <p class="mb-1">$${item.price.toFixed(2)}</p>
              </div>
            </div>
          </td>
          <td>
            <div class="d-flex align-items-center">
              <button class="btn btn-outline-secondary btn-sm me-2" onclick="changeQuantity(${index}, -1)">-</button>
              <span class="quantity-display">${item.quantity}</span>
              <button class="btn btn-outline-secondary btn-sm ms-2" onclick="changeQuantity(${index}, 1)">+</button>
            </div>
          </td>
        `;
        cartItemsContainer.appendChild(row);
        total += item.price * item.quantity;
      });

      grandTotal.textContent = `Total: $${total.toFixed(2)}`;
    }
  }

  // Quantity +/-
  function changeQuantity(index, change) {
    if (!cart[index]) return;
    cart[index].quantity += change;
    if (cart[index].quantity <= 0) {
      cart.splice(index, 1);
    }
    localStorage.setItem("cart", JSON.stringify(cart));
    updateCartCount();
    updateCartPage();
  }

  // Checkout logic
  function checkout() {
    const isLoggedIn = localStorage.getItem("isLoggedIn");
    if (!isLoggedIn || isLoggedIn !== "true") {
      showToast("Please log in first to proceed to checkout.");
      return;
    }
    window.location.href = "checkout.html";
  }

  // Attach Add to Cart buttons if they exist (from product.html)
  document.querySelectorAll(".add-to-cart").forEach((button) => {
    button.addEventListener("click", (e) => {
      const card = e.target.closest(".card-product");
      const id = e.target.dataset.id;
      const name = card.querySelector(".product-title").innerText;
      const price = parseFloat(card.querySelector(".product-price").innerText.replace("$", ""));
      const image = card.querySelector("img").src;

      addToCart({ id, name, price, image });
    });
  });

  // Call on load
  updateCartCount();
  window.onload = updateCartPage;
</script>

        
<!-- Include toast CSS -->
        <style>
        .toast-notification {
          position: fixed;
          bottom: 20px;
          right: 20px;
          background: #222;
          color: #fff;
          padding: 10px 20px;
          border-radius: 8px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
          z-index: 9999;
          animation: fadeInOut 3s ease forwards;
        }
        
        @keyframes fadeInOut {
          0% {
            opacity: 0;
            transform: translateY(10px);
          }
          10% {
            opacity: 1;
            transform: translateY(0);
          }
          90% {
            opacity: 1;
          }
          100% {
            opacity: 0;
            transform: translateY(10px);
          }
        }
        </style>
      <script src="main.js"></script>
        
</body>

</html>
